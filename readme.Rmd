---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->


```{r setup, include=FALSE,echo=FALSE}
knitr::opts_chunk$set(
  echo = F, message = F, warning = F,
  fig.path = "man/figures/",
  collapse = T,
  comment = "#>"
  )

library(jsmp)
```


# jsmp

<br>

This package does variety of things I find useful when working with R Tidyverse:

- [Import commonly used packages](#imported-packages)
- [Changes the default ggplot theme](#custom-ggplot-theme)
- [Overrides dplyr::summarise to remove grouping](#general-functions)
- [Contains various functions for use with ggplot](#ggplot-functions)
- [Contains various functions for use in tidy code](#general-functions)

<br>

## Installation

`devtools::install_github("ymer/jsmp")`

<br>

## Custom ggplot theme

```{r, fig.width = 4, fig.height = 3}
mtcars %>% ggplot(aes(x = mpg, y = disp)) +
   geom_point()
```

<br>

## ggplot functions



- `gg_legend_remove` : Removes the legend

- `gg_legend_notitle` : Removes the legend title

- `gg_legend_bottom` : Moves the legend to the bottom of the plot

- `gg_loess_line` : Plots a loess regression line

- `gg_regression_line` : Plots a regression line

- `gg_x_remove` : Removes the x-axis

- `gg_x_rotate` : Rotates x-axis labels 45&deg;

- `gg_x_wrap` : Wraps text on x-axis labels

- `gg_y_big` : Changes the y-axis to avoid scientific notation for big numbers

- `gg_y_percent` : Changes the y-axis to percentage

- `gg_y_remove` : Removes the y-axis

- `gg_y_zero` : Adjusts the y-axis to start at 0


<br>

## General functions

- `summarise` : Overrides the standard summarise function, so that grouping is dropped after

```{r, echo = T}
mtcars %>% 
   group_by(am, gear) %>% 
   dplyr::summarise(mean_mpg = mean(mpg)) %>% 
   group_vars()
```

```{r, echo = T}
mtcars %>% 
   group_by(am, gear) %>% 
   summarise(mean_mpg = mean(mpg)) %>% 
   group_vars()
```

- `%notin%` : As `%in%` but exclusionary

- `d` : Formats table (using `gt` as base)

- `filter_dupes` : selects duplicated rows

```{r, echo = T}
mtcars %>% filter_dupes("wt")
```

- `fix_names` : Changes the column names tidy style

```{r, echo = T}
iris %>% fix_names() %>% 
   head()
```

- `left_join0` : Performs a left_join, while setting values in missing rows to 0 instead of NA.

```{r, echo = T}
df1 <- tribble(
   ~id, ~v1,
   1, 2,
   2, 2,
   3, 10)

df2 <- tribble(
   ~id, ~v2,
   1, 2,
   3, 4)

left_join(df1, df2)
```

```{r, echo = T}
left_join0(df1, df2)
```


- `percent` : Returns proportion formatted as percentage

```{r, echo = T}
percent(0.173234235)
```

- `rows` :  Facilitates looping

```{r, echo = T}
df <- mtcars %>% head()
for (row in rows(df)){
   print(row$mpg)
}
```

- `tab` : Ordered `count` including percentage

```{r, echo = T}
iris %>% 
   fix_names() %>% 
   tab(species)
```


<br>

## Imported packages

- [broom](https://github.com/tidymodels/broom)
- [glue](https://github.com/tidyverse/glue)
- [gt](https://github.com/rstudio/gt)
- [lubridate](https://github.com/tidyverse/lubridate)
- [magrittr](https://github.com/tidyverse/magrittr)
- [patchwork](https://github.com/thomasp85/patchwork)
- [stringr](https://stringr.tidyverse.org/)
- [tidyverse](https://github.com/tidyverse/tidyverse)
